<h2>Inscription Ã  la newsletter</h2>

<% if (typeof errorMessages !== 'undefined' && errorMessages.length) { %>
  <div class="alert alert-danger">
    <ul>
      <% errorMessages.forEach(message => { %>
        <li><%= message %></li>
      <% }); %>
    </ul>
  </div>
<% } %>

<form action="/subscribers/create" method="POST">
  <div class="form-group">
    <label for="name">Nom complet *</label>
    <input type="text" class="form-control <%= typeof errorMessages !== 'undefined' && errorMessages.some(m => m.includes('nom')) ? 'is-invalid' : '' %>" 
           id="name" name="name" value="<%= typeof formData !== 'undefined' ? formData.name : '' %>" required>
  </div>
  
  <div class="form-group">
    <label for="email">Email *</label>
    <input type="email" class="form-control <%= typeof errorMessages !== 'undefined' && errorMessages.some(m => m.includes('email')) ? 'is-invalid' : '' %>" 
           id="email" name="email" value="<%= typeof formData !== 'undefined' ? formData.email : '' %>" required>
  </div>
  
  <div class="form-group">
    <label for="zipCode">Code Postal *</label>
    <input type="text" class="form-control <%= typeof errorMessages !== 'undefined' && errorMessages.some(m => m.includes('postal')) ? 'is-invalid' : '' %>" 
           id="zipCode" name="zipCode" value="<%= typeof formData !== 'undefined' ? formData.zipCode : '' %>" 
           pattern="\d{5}" title="5 chiffres requis" required>
    <small class="form-text text-muted">Format: 5 chiffres (ex: 75000)</small>
  </div>
  
  <button type="submit" class="btn btn-primary">S'abonner</button>
</form>